#!/bin/bash

#TILE="227067"

rm $TILE"_CLASSIFICATION_R5.tif"; gdal_calc.py --co="COMPRESS=deflate" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_20.tif" -B $TILE"_CLASSIFICATION_21.tif" -C $TILE"_CLASSIFICATION_22.tif" -D $TILE"_CLASSIFICATION_23.tif" -E $TILE"_CLASSIFICATION_24.tif" --outfile=$TILE"_CLASSIFICATION_R5.tif" --calc="(A+B+C+D+E)/5"
rm $TILE"_CLASSIFICATION_R10.tif"; gdal_calc.py --co="COMPRESS=deflate" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_20.tif" -B $TILE"_CLASSIFICATION_21.tif" -C $TILE"_CLASSIFICATION_22.tif" -D $TILE"_CLASSIFICATION_23.tif" -E $TILE"_CLASSIFICATION_24.tif" -F $TILE"_CLASSIFICATION_25.tif" -G $TILE"_CLASSIFICATION_26.tif" -H $TILE"_CLASSIFICATION_27.tif" -I $TILE"_CLASSIFICATION_28.tif" -J $TILE"_CLASSIFICATION_29.tif" --outfile=$TILE"_CLASSIFICATION_R10.tif" --calc="(A+B+C+D+E+F+G+H+I+J)/10"
rm $TILE"_CLASSIFICATION_R15.tif"; gdal_calc.py --co="COMPRESS=deflate" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_20.tif" -B $TILE"_CLASSIFICATION_21.tif" -C $TILE"_CLASSIFICATION_22.tif" -D $TILE"_CLASSIFICATION_23.tif" -E $TILE"_CLASSIFICATION_24.tif" -F $TILE"_CLASSIFICATION_25.tif" -G $TILE"_CLASSIFICATION_26.tif" -H $TILE"_CLASSIFICATION_27.tif" -I $TILE"_CLASSIFICATION_28.tif" -J $TILE"_CLASSIFICATION_29.tif" -K $TILE"_CLASSIFICATION_30.tif" -L $TILE"_CLASSIFICATION_31.tif" -M $TILE"_CLASSIFICATION_32.tif" -N $TILE"_CLASSIFICATION_33.tif" -O $TILE"_CLASSIFICATION_34.tif" --outfile=$TILE"_CLASSIFICATION_R15.tif" --calc="(A+B+C+D+E+F+G+H+I+J+K+L+M+N+O)/15"
rm $TILE"_CLASSIFICATION_R20.tif"; gdal_calc.py --co="COMPRESS=deflate" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_20.tif" -B $TILE"_CLASSIFICATION_21.tif" -C $TILE"_CLASSIFICATION_22.tif" -D $TILE"_CLASSIFICATION_23.tif" -E $TILE"_CLASSIFICATION_24.tif" -F $TILE"_CLASSIFICATION_25.tif" -G $TILE"_CLASSIFICATION_26.tif" -H $TILE"_CLASSIFICATION_27.tif" -I $TILE"_CLASSIFICATION_28.tif" -J $TILE"_CLASSIFICATION_29.tif" -K $TILE"_CLASSIFICATION_30.tif" -L $TILE"_CLASSIFICATION_31.tif" -M $TILE"_CLASSIFICATION_32.tif" -N $TILE"_CLASSIFICATION_33.tif" -O $TILE"_CLASSIFICATION_34.tif" -P $TILE"_CLASSIFICATION_35.tif" -Q $TILE"_CLASSIFICATION_36.tif" -R $TILE"_CLASSIFICATION_37.tif" -S $TILE"_CLASSIFICATION_38.tif" -T $TILE"_CLASSIFICATION_39.tif" --outfile=$TILE"_CLASSIFICATION_R20.tif" --calc="(A+B+C+D+E+F+G+H+I+J+K+L+M+N+O+P+Q+R+S+T)/20"
rm $TILE"_CLASSIFICATION_R25.tif"; gdal_calc.py --co="COMPRESS=deflate" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_20.tif" -B $TILE"_CLASSIFICATION_21.tif" -C $TILE"_CLASSIFICATION_22.tif" -D $TILE"_CLASSIFICATION_23.tif" -E $TILE"_CLASSIFICATION_24.tif" -F $TILE"_CLASSIFICATION_25.tif" -G $TILE"_CLASSIFICATION_26.tif" -H $TILE"_CLASSIFICATION_27.tif" -I $TILE"_CLASSIFICATION_28.tif" -J $TILE"_CLASSIFICATION_29.tif" -K $TILE"_CLASSIFICATION_30.tif" -L $TILE"_CLASSIFICATION_31.tif" -M $TILE"_CLASSIFICATION_32.tif" -N $TILE"_CLASSIFICATION_33.tif" -O $TILE"_CLASSIFICATION_34.tif" -P $TILE"_CLASSIFICATION_35.tif" -Q $TILE"_CLASSIFICATION_36.tif" -R $TILE"_CLASSIFICATION_37.tif" -S $TILE"_CLASSIFICATION_38.tif" -T $TILE"_CLASSIFICATION_39.tif" -U $TILE"_CLASSIFICATION_40.tif" -V $TILE"_CLASSIFICATION_41.tif" -W $TILE"_CLASSIFICATION_42.tif" -X $TILE"_CLASSIFICATION_43.tif" -Y $TILE"_CLASSIFICATION_44.tif" --outfile=$TILE"_CLASSIFICATION_R25.tif" --calc="(A+B+C+D+E+F+G+H+I+J+K+L+M+N+O+P+Q+R+S+T+U+V+W+X+Y)/25"; rm $TILE"_CLASSIFICATION_R30.tif"; gdal_calc.py --co="COMPRESS=lzw" --co="INTERLEAVE=BAND" --co="TILED=YES" --NoDataValue=0 -A $TILE"_CLASSIFICATION_R25.tif" -B $TILE"_CLASSIFICATION_45.tif" -C $TILE"_CLASSIFICATION_46.tif" -D $TILE"_CLASSIFICATION_47.tif" -E $TILE"_CLASSIFICATION_48.tif" -F $TILE"_CLASSIFICATION_49.tif" --outfile=$TILE"_CLASSIFICATION_R30.tif" --calc="(A+B+C+D+E+F)/6"